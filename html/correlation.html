<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>相关性分析</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/correlation.css">

</head>

<body>
  <header>
    <div class="header-title">
      <h1>相关性分析</h1>
      <nav class="top-right-nav">
        <a href="descriptive.html">描述性分析</a>
        <a href="../index.html">首页</a>
      </nav>
    </div>
  </header>
  <div class="button-container">
    <button id="btnGeographic">地理因素</button>
    <button id="btnEconomic">经济因素</button>

  </div>
  <main>
    <section id="geographic-corr" class="content-section">
      <h2 style="text-align:center;">
        2014-2017年间各个学科的优势国家地理位置分布情况(RCA分布热力图)
      </h2>
      <label for="select-subject">Subject:</label>
      <div id="color-legend"></div>

      <select id="select-subject" class="form-control">
        <option value="Botany">Botany</option>
        <option value="Agricult & Food Science">Agricult & Food Science</option>
        <option value="Health Policy & Services">Health Policy & Services</option>
        <option value="Industrial Engineering">Industrial Engineering</option>
        <option value="Applied Physics">Applied Physics</option>
      </select>

      
      <!-- <div class="legend-container" id="legend"></div> -->

      <div class="charts-grid">

        <div class="chart-container">
          <h4>2014年</h4>
          <div id="chart-2014" class="map-chart"></div>
        </div>
        <div class="chart-container">
          <h4>2015年</h4>
          <div id="chart-2015" class="map-chart"></div>
        </div>
        <div class="chart-container">
          <h4>2016年</h4>
          <div id="chart-2016" class="map-chart"></div>
        </div>
        <div class="chart-container">
          <h4>2017年</h4>
          <div id="chart-2017" class="map-chart"></div>
        </div>
      </div>

      <script src="https://d3js.org/d3.v7.min.js"></script>
      <script src="../js/co_geography.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/d3-regression@1.2.1/dist/d3-regression.min.js"></script>

    </section>

    <section id="economic-corr" class="content-section hidden">
      <!--<h2>🌍经济因素与科学分工</h2>-->

      <section id="incomeSection">
        <div>
          <h3>🌐 国家收入类型与学科关联网络</h3>
        </div>
        <div id="incomeContainer">
          <svg id="svg-high"></svg>
          <svg id="svg-upper-middle"></svg>
          <svg id="svg-lower-middle"></svg>
          <svg id="svg-low"></svg>
        </div>

      </section>

      <section id="chartSection">
        <h3>📈 国家收入类型与学科多样性</h3>

        <div id="lineChartContainer"></div>
      </section>

      <section id="scatterSection">
        <h3>📊 经济指标与学科多样性</h3>
        <div style="display: flex;">
          <div id="scatterPlot_GDP"></div>
          <div id="scatterPlot_PPP"></div>
          <div id="scatterPlot_ECI"></div>
        </div>

      </section>

    </section>
  </main>
  <div id="tooltip" style="
  position: absolute;
  pointer-events: none;
  padding: 6px 10px;
  background: white;
  border: 1px solid #aaa;
  border-radius: 4px;
  font-size: 13px;
  color: #333;
  display: none;
  box-shadow: 2px 2px 6px rgba(0,0,0,0.1);
"></div>
  <div id="node-info" style="
  position: absolute;
  top: 20px;
  right: 20px;
  max-width: 300px;
  background: rgba(255,255,255,0.95);
  border: 1px solid #ccc;
  padding: 10px;
  font-size: 13px;
  border-radius: 6px;
  box-shadow: 0 0 5px rgba(0,0,0,0.1);
  display: none;
  z-index: 100;
"></div>

  <script src="https://d3js.org/d3.v7.min.js"></script>

  <script src="../js/co_economic.js"></script>

  <!-- 引用外部的js 文件 -->

  <!-- <script src="../js/d3.min.js"></script>
  <script src="../js/jquery.min.js"></script>
  <script src="../js/bootstrap.min.js"></script> -->
  <!-- <script src="../js/correlation.js"></script> -->

</body>

</html>
