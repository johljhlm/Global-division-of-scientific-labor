<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>相关性分析</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/correlation.css">

</head>

<body>
  <header>
    <div class="header-title">
      <h1>相关性分析</h1>
      <nav class="top-right-nav">
        <a href="descriptive.html">描述性分析</a>
        <a href="../index.html">首页</a>
      </nav>
    </div>
  </header>
  <div class="button-container">
    <button id="btnGeographic">地理因素</button>
    <button id="btnEconomic">经济因素</button>

  </div>
  <main>
    <section id="geographic-corr" class="content-section">
      <h2 style="text-align:center;">
        2014-2017年间各个学科的优势国家/地区地理位置分布情况(RCA分布热力图)
      </h2>
      <div class="subject-selector">
        <label for="select-subject">选择学科：</label>
        <select id="select-subject" class="form-control">
          <option value="Botany">植物学 (Botany)</option>
          <option value="Agricult & Food Science">农业与食品科学 (Agricult & Food Science)</option>
          <option value="Health Policy & Services">卫生政策与服务 (Health Policy & Services)</option>
          <option value="Industrial Engineering">工业工程 (Industrial Engineering)</option>
          <option value="Applied Physics">应用物理学 (Applied Physics)</option>
        </select>
      </div>
      <div id="color-legend"></div>

      <!-- <div class="legend-container" id="legend"></div> -->

      <div class="charts-grid">

        <div class="chart-container">
          <h4>2014年</h4>
          <div id="chart-2014" class="map-chart"></div>
        </div>
        <div class="chart-container">
          <h4>2015年</h4>
          <div id="chart-2015" class="map-chart"></div>
        </div>
        <div class="chart-container">
          <h4>2016年</h4>
          <div id="chart-2016" class="map-chart"></div>
        </div>
        <div class="chart-container">
          <h4>2017年</h4>
          <div id="chart-2017" class="map-chart"></div>
        </div>
      </div>

      <script src="https://d3js.org/d3.v7.min.js"></script>
      <script src="../js/co_geography.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/d3-regression@1.2.1/dist/d3-regression.min.js"></script>
      <script src="../js/co_economic.js"></script>

    </section>

    <section id="economic-corr" class="content-section hidden">
      <!--<h2>🌍经济因素与科学分工</h2>-->

      <section id="incomeSection">
        <div>
          <h3>🌐 国家收入类型与学科关联网络</h3>
        </div>
        <div class="btn-group">
            <button onclick="showChart('svg-high')">High</button>
            <button onclick="showChart('svg-upper-middle')">Upper Middle</button>
            <button onclick="showChart('svg-lower-middle')">Lower Middle</button>
            <button onclick="showChart('svg-low')">Low</button>
          </div>
        <div id="incomeContainer">
          <svg id="svg-high" class="chart-svg active"></svg>
          <svg id="svg-upper-middle" class="chart-svg"></svg>
          <svg id="svg-lower-middle" class="chart-svg"></svg>
          <svg id="svg-low" class="chart-svg"></svg>
        </div>

      </section>

      <section id="chartSection">
        <h3>📈 国家收入类型与学科多样性</h3>

        <div id="lineChartContainer"></div>
      </section>

      <section id="scatterSection">
        <h3>📊 经济指标与学科多样性</h3>
        <!-- 按钮组 -->
      <div class="btn-group" id="scatter-btn-group" style="margin-top: -10px;">
        <button onclick="showScatter('GDP')" class="active">GDP</button>
        <button onclick="showScatter('PPP')">PPP</button>
        <button onclick="showScatter('ECI')">ECI</button>
      </div>
        <div >
          <div id="scatterPlot_GDP"class="scatter-chart active"></div>
          <div id="scatterPlot_PPP"class="scatter-chart"></div>
          <div id="scatterPlot_ECI"class="scatter-chart"></div>
        </div>

      </section>

    </section>
  </main>
  <div id="tooltip" style="
position: absolute;
  top: 20px;
  right: 20px;
  max-width: 300px;
  background: rgba(255,255,255,0.95);
  border: 1px solid #ccc;
  padding: 10px;
  font-size: 13px;
  border-radius: 6px;
  box-shadow: 0 0 5px rgba(0,0,0,0.1);
  display: none;
  z-index: 100;
  
"></div>
  <div id="node-info" style="
  position: absolute;
  top: 20px;
  right: 20px;
  max-width: 300px;
  background: rgba(255,255,255,0.95);
  border: 1px solid #ccc;
  padding: 10px;
  font-size: 13px;
  border-radius: 6px;
  box-shadow: 0 0 5px rgba(0,0,0,0.1);
  display: none;
  z-index: 100;
"></div>



  <!-- 引用外部的js 文件 -->

  <!-- <script src="../js/d3.min.js"></script>
  <script src="../js/jquery.min.js"></script>
  <script src="../js/bootstrap.min.js"></script> -->
  <!-- <script src="../js/correlation.js"></script> -->

</body>

</html>
